- var omitAccount = true;
doctype html
html(lang="en")
    head
        meta(charset="UTF-8")
        meta(http-equiv="X-UA-Compatible", content="IE=edge")
        meta(name="viewport", content="width=device-width, initial-scale=1.0")
        meta(name="robots", content="noindex")
        title Vocabustudy - Learn Results
        script(src="https://gstatic.com/charts/loader.js")
        link(rel="stylesheet", href="css/styles.scss")
        link(rel="stylesheet" href="css/material-components.scss")
        link(rel="shortcut icon", href="favicon.ico", type="image/x-icon")
        link(rel="preconnect", href="https://fonts.googleapis.com")
        link(rel="preconnect", href="https://fonts.gstatic.com", crossorigin)
        link(rel="stylesheet", href="https://fonts.googleapis.com/css2?family=Raleway&display=swap")
    body.mdc-typography
        include includes/navbar
        main.mdc-top-app-bar--fixed-adjust
            #chart-container(style="margin-top: 1rem;") Loading...
            p This information never leaves your computer, and is deleted when you close Vocabustudy
        include includes/footer
        script.
            (async function() {
                let learnResults = opener?.temp_learnResults;
                if (learnResults) {
                    delete opener?.temp_learnResults;
                    if (learnResults.results.length < 2) {
                        document.getElementById("chart-container").innerText = "No missed questions!";
                        return;
                    }
                    await google.charts.load("current", {"packages": ["bar"]});
                    let data = google.visualization.arrayToDataTable(learnResults.results);
                    let options = {
                        chart: {
                        title: "Missed Questions",
                        subtitle: learnResults.setName
                        },
                        hAxis: {
                        title: "Number of Times Missed",
                        minValue: 0
                        },
                        vAxis: {
                        title: "Question"
                        },
                        colors: ["#785548", "#827717"],
                        bars: "horizontal",
                        stacked: true
                    };
                    new google.charts.Bar(document.getElementById("chart-container")).draw(data, options);
                }
            })();